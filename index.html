<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Preparing Something Special</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Indie+Flower&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      background-color: #000000;
      font-family: "Indie Flower", cursive;
      margin: 0;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 1rem;
      position: relative;
      color: white;
    }
    .title {
      font-family: "Fredoka One", cursive;
      background: linear-gradient(90deg, #ec4899, #8b5cf6, #6366f1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
      user-select: none;
      text-align: center;
      opacity: 0; /* hidden initially */
      animation: fadeIn 2s ease forwards 2s; /* fade-in after 2s */
    }
    .subtitle {
      color: #b9a6f9;
      user-select: none;
      text-align: center;
      opacity: 0; /* hidden initially */
      animation: fadeIn 2s ease forwards 3.5s; /* fade-in after 3.5s */
    }
    #canvasContainer {
      position: relative;
      width: 96px;
      height: 126px;
    }
    canvas {
      display: block;
      width: 96px;
      height: 120px;
      padding-bottom: 20px;
      display: flex;
      align-items: top;
    }
    .signature {
      position: absolute;
      bottom: 1rem;
      right: 1rem;
      font-family: "Indie Flower", cursive;
      font-weight: 600;
      font-size: 0.875rem;
      color: #7c3aed;
      user-select: none;
    }
    /* Sparkle Styles */
    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: white;
      border-radius: 50%;
      opacity: 0.8;
      animation: floatUp 6s linear infinite;
    }
    @keyframes floatUp {
      from {
        transform: translateY(100vh) scale(0.5);
        opacity: 0.8;
      }
      to {
        transform: translateY(-10vh) scale(1);
        opacity: 0;
      }
    }
    /* Fade-in text */
    @keyframes fadeIn {
      to {
        opacity: 1;
      }
    }
    @media (min-width: 640px) {
      #canvasContainer {
        width: 128px;
        height: 128px;
        margin-bottom: 2rem;
      }
      .title {
        font-size: 2.25rem; /* text-4xl */
      }
      .subtitle {
        font-size: 1.25rem; /* text-xl */
      }
    }
    @media (min-width: 768px) {
      .title {
        font-size: 3rem; /* text-5xl */
      }
      .subtitle {
        font-size: 1.25rem; /* text-xl */
      }
    }
  </style>
  <style>
  /* Fade-out effect for smooth redirect */
  .fade-out {
    animation: fadeOut 1.5s ease forwards;
  }
  @keyframes fadeOut {
    to {
      opacity: 0;
      transform: scale(1.05); /* slight zoom for smoothness */
    }
  }
</style>

<script>
  // existing animation + sparkles code here...

  // Smooth redirect after 7s
  setTimeout(() => {
    document.body.classList.add("fade-out"); // trigger fade
    setTimeout(() => {
      window.location.href = "index2.html"; // ðŸ‘‰ replace with your page
    }, 1500); // wait for fade-out animation to complete
  }, 6000);
</script>
</head>
<body>
  <!-- Sparkles container -->
  <div id="sparkles"></div>

  <div id="canvasContainer">
    <canvas id="heartCanvas" width="128" height="140"
      aria-label="Animated bright pink heart floating above a white oval shadow on black background"></canvas>
  </div>
  <h1 class="title text-3xl sm:text-4xl md:text-5xl select-none">
    Preparing Something Special
  </h1>
  <p class="subtitle text-lg sm:text-xl select-none">For someone very special...</p>
  <div class="signature">@aftabbuilds</div>

  <script>
    const canvas = document.getElementById("heartCanvas");
    const ctx = canvas.getContext("2d");
    const width = canvas.width;
    const height = canvas.height;

    // Heart shape function
    function heartPoint(t, size) {
      const x = 16 * Math.pow(Math.sin(t), 3);
      const y =
        13 * Math.cos(t) -
        5 * Math.cos(2 * t) -
        2 * Math.cos(3 * t) -
        Math.cos(4 * t);
      return { x: size * x, y: -size * y };
    }

    // Shadow
    function drawShadow(x, y, widthOval, heightOval, alpha) {
      ctx.save();
      ctx.beginPath();
      ctx.ellipse(x, y+30, widthOval, heightOval, 0, 0, 2 * Math.PI);
      ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
      ctx.fill();
      ctx.restore();
    }

    let time = 0;
    let drawProgress = 0;

    function animate() {
      ctx.clearRect(0, 0, width, height);

      const shadowAlpha = 0.15 + 0.15 * Math.sin(time * 2 + Math.PI / 2);
      drawShadow(width / 2, height * 0.85, 25, 8, shadowAlpha);

      ctx.save();
      ctx.translate(width / 2, height * 0.65);
      ctx.lineJoin = "round";
      ctx.lineCap = "round";

      ctx.shadowColor = "#ec008c";
      ctx.shadowBlur = 10;
      ctx.fillStyle = "#ec008c";

      ctx.beginPath();
      const size = 3;
      const totalSteps = 200;
      const stepsToDraw = Math.floor(totalSteps * drawProgress);
      for (let i = 0; i <= stepsToDraw; i++) {
        const t = (i / totalSteps) * 2 * Math.PI;
        const p = heartPoint(t, size);
        if (i === 0) ctx.moveTo(p.x, p.y);
        else ctx.lineTo(p.x, p.y);
      }
      if (drawProgress >= 1) {
        ctx.closePath();
        ctx.fill();
      } else {
        ctx.strokeStyle = "#ec008c";
        ctx.lineWidth = 2;
        ctx.stroke();
      }
      ctx.restore();

      if (drawProgress < 1) {
        drawProgress += 0.01;
      } else {
        const pulseScale = 1 + 0.1 * Math.sin(time * 3);
        ctx.save();
        ctx.translate(width / 2, height * 0.65);
        ctx.scale(pulseScale, pulseScale);
        ctx.beginPath();
        for (let i = 0; i <= totalSteps; i++) {
          const t = (i / totalSteps) * 2 * Math.PI;
          const p = heartPoint(t, size);
          if (i === 0) ctx.moveTo(p.x, p.y);
          else ctx.lineTo(p.x, p.y);
        }
        ctx.closePath();
        ctx.shadowColor = "#ec008c";
        ctx.shadowBlur = 5;
        ctx.fillStyle = "#ec008c";
        ctx.fill();
        ctx.restore();
      }

      time += 0.05;
      requestAnimationFrame(animate);
    }

    animate();

    // Sparkles
    const sparklesContainer = document.getElementById("sparkles");
    function createSparkle() {
      const sparkle = document.createElement("div");
      sparkle.classList.add("sparkle");
      sparkle.style.left = Math.random() * 100 + "vw";
      sparkle.style.top = Math.random() * 100 + "vh";
      sparkle.style.animationDuration = 4 + Math.random() * 4 + "s";
      sparkle.style.opacity = Math.random();
      sparklesContainer.appendChild(sparkle);

      setTimeout(() => {
        sparkle.remove();
      }, 8000);
    }
    setInterval(createSparkle, 300);
    
  </script>
</body>
</html>
